(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(t,e,n){t.exports=n(20)},19:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),r=n(10),s=n.n(r),c=n(2),l=n.n(c),u=n(1),d=n(11),i=n(3),m=n(4),h=n(5),f=n(7),p=n(6),b=n(8),C=function(){var t=Object(i.a)(l.a.mark(function t(e){var n,o;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:return o=t.sent,t.abrupt("return",o);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),E=function(t){return a.a.createElement("tr",null,a.a.createElement("td",{className:t.todo.completed?"done":"undone",onClick:function(){return e=t.todo.id,void t.handle(e);var e}},t.todo.completed?"Done":""),a.a.createElement("td",{className:t.todo.completed?"done":"undone"},t.todo.title),a.a.createElement("td",{className:t.todo.completed?"done":"undone",title:"\n          ".concat(t.todo.user.name,"\n          Phone: ").concat(t.todo.user.phone,"\n          E-Mail: ").concat(t.todo.user.email,"\n          Company: ").concat(t.todo.user.company.name)},t.todo.user.name),a.a.createElement("td",{className:t.todo.completed?"done":"undone"},t.todo.user.email))},v=function(t){function e(t){var n;return Object(m.a)(this,e),(n=Object(f.a)(this,Object(p.a)(e).call(this,t))).handleSort=function(t){var e,o=[],a=!1;if(t===n.state.sortBy)o=Object(u.a)(n.state.sortedTodos).reverse(),a=!n.state.reverse;else{switch(t){case"status":e=function(t,e){return t.completed-e.completed};break;case"title":e=function(t,e){return t.title.localeCompare(e.title)};break;case"name":e=function(t,e){return t.user.name.localeCompare(e.user.name)};break;case"email":e=function(t,e){return t.user.email.localeCompare(e.user.email)};break;default:e=function(t,e){return t.id-e.id}}o=Object(u.a)(n.state.todos).sort(e)}n.setState(function(){return{sortedTodos:Object(u.a)(o),sortBy:t,reverse:a}})},n.titleResolver=function(t){return t===n.state.sortBy?n.state.reverse?t.toUpperCase()+" "+String.fromCharCode(8657):t.toUpperCase()+" "+String.fromCharCode(8659):t.toUpperCase()+" "+String.fromCharCode(8661)},n.handleTodoStatusChange=function(t){n.props.handleFunction(t)},n.doneCount=function(){for(var t=0,e=0;e<n.state.sortedTodos.length;e++)n.state.sortedTodos[e].completed&&t++;return t},n.usersCount=function(){return n.state.sortedTodos.map(function(t){return t.user.id}).sort(function(t,e){return t-e}).filter(function(t,e,n){return t!==n[e+1]}).length},n.state={todos:Object(u.a)(t.todos),sortedTodos:Object(u.a)(t.todos),sortBy:"id",reverse:!1},n}return Object(b.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){var t=this;return a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{onClick:function(){return t.handleSort("status")}},this.titleResolver("status")),a.a.createElement("th",{onClick:function(){return t.handleSort("title")}},this.titleResolver("title")),a.a.createElement("th",{onClick:function(){return t.handleSort("name")}},this.titleResolver("name")),a.a.createElement("th",{onClick:function(){return t.handleSort("email")}},this.titleResolver("email")))),a.a.createElement("tbody",null,this.state.sortedTodos.map(function(e){return a.a.createElement(E,{todo:e,key:e.id,handle:t.handleTodoStatusChange})})),a.a.createElement("tfoot",null,a.a.createElement("tr",null,a.a.createElement("td",{className:"tableFoot"},"Total"),a.a.createElement("td",{className:"tableFoot"},"Done : ",this.doneCount(),"\xa0\xa0\xa0\xa0\xa0|\xa0\xa0\xa0\xa0\xa0 UnDone : ",this.state.sortedTodos.length-this.doneCount()),a.a.createElement("td",{className:"tableFoot"},"Unique Users : ",this.usersCount()),a.a.createElement("td",{className:"tableFoot"}))))}}]),e}(a.a.Component),j=(n(19),function(t){function e(){var t;return Object(m.a)(this,e),(t=Object(f.a)(this,Object(p.a)(e).call(this))).handleBtnClick=Object(i.a)(l.a.mark(function e(){var n,o,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState(function(){return{loadBtn:"Loading ..."}}),e.next=3,C("https://jsonplaceholder.typicode.com/users");case 3:return n=e.sent,e.next=6,C("https://jsonplaceholder.typicode.com/todos");case 6:o=e.sent,a=o.map(function(t){return Object(d.a)({},t,{user:n.find(function(e){return e.id===t.userId})})}),t.setState(function(){return{users:Object(u.a)(n),todos:Object(u.a)(o),todosWithUsers:Object(u.a)(a),loadBtn:"Done"}});case 9:case"end":return e.stop()}},e)})),t.handleTodoStatusChange=function(e){t.setState(function(t){return{todosWithUsers:t.todosWithUsers.map(function(t){return t.completed=t.id===e?!t.completed:t.completed,t})}})},t.state={loadBtn:"!!! Load !!!",users:[],todos:[],todosWithUsers:[]},t}return Object(b.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Dynamic list of\xa0",this.state.todos[0]?this.state.todos.length:null,"\xa0todos\xa0","!!! Load !!!"===this.state.loadBtn?null:"- ".concat(this.state.loadBtn)),"Done"===this.state.loadBtn?a.a.createElement(v,{todos:this.state.todosWithUsers,handleFunction:this.handleTodoStatusChange}):a.a.createElement("button",{onClick:this.handleBtnClick},this.state.loadBtn))}}]),e}(a.a.Component));s.a.render(a.a.createElement(j,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.8ff02356.chunk.js.map